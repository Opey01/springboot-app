# Runtime-only image for Spring Boot 1.4.x (Java 8)
FROM amazoncorretto:8-alpine-jre

# Run as a non-root user
RUN addgroup -S app && adduser -S app -G app
USER app

WORKDIR /app

# Copy the JAR produced by Jenkins/Maven
# (JAR is built at MyAwesomeApp/target/springbootApp.jar)
COPY MyAwesomeApp/target/springbootApp.jar app.jar

EXPOSE 8080

# Optional: JVM options via env (e.g., -Xms256m -Xmx512m)
ENV JAVA_OPTS=""

ENTRYPOINT ["sh","-c","java $JAVA_OPTS -jar /app/app.jar"]
